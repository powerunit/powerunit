<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2014-07-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Powerunit - Java Testing framework for JDK 1.8 - Frequently Asked Questions</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20140726" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<link rel="icon" href="logo.png" type="image/png"/>
                                                        
<link rel="shortcut icon" href="logo.png" type="image/png"/>
                      
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Powerunit - Java Testing framework for JDK 1.8
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-07-26</span>
                  &nbsp;| <span id="projectVersion">Version: 0.2.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>General documentations</h5>
                  <ul>
                  <li class="none">
            <strong>FAQ</strong>
          </li>
                  <li class="none">
                          <a href="release.html" title="Release principles">Release principles</a>
            </li>
                                                                                                                                            <li class="collapsed">
                          <a href="helloworldmaven.html" title="Samples">Samples</a>
                  </li>
          </ul>
                                                                                                                                     <a href="../" title="PowerUnit" class="poweredBy">
        <img class="poweredBy"  alt="PowerUnit" src="logo.png"     />
      </a>
                                                                                                                <a href="https://travis-ci.org/powerunit/powerunit" title="Travis-ci" class="poweredBy">
        <img class="poweredBy"  alt="Travis-ci" src="https://travis-ci.org/powerunit/powerunit.svg?branch=master"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="top">Frequently Asked Questions</a><a name="Frequently_Asked_Questions"></a></h2>
<p><b>General</b></p>
<ol style="list-style-type: decimal">
<li><a href="#whats-powerunit">
        What is Powerunit?
      </a></li>
<li><a href="#base_syntax">
      What is the syntax of a Test?
     </a></li>
<li><a href="#before-after">
        How are managed the before and after action of a test.
      </a></li></ol>
<p><b>Matchers</b></p>
<ol style="list-style-type: decimal">
<li><a href="#matchers-integration">
  	   How is done the integration with Hamcrest ?
  	  </a></li></ol></div>
<div class="section">
<h2>General<a name="General"></a></h2>
<dl>
<dt><a name="whats-powerunit">
        What is Powerunit?
      </a></dt>
<dd>
        
<p>Powerunit is a java test unit framework, baed to work with the JDK 1.8.</p>
      
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="base_syntax">
      What is the syntax of a Test?
     </a></dt>
<dd>
      
<p>A simple test look like :</p>
      
<div class="source">
<pre>
import ch.powerunit.Test;
import ch.powerunit.TestSuite;

public class HelloWorldTest implements TestSuite {
  @Test()
  public void testHelloWorld1() {
    assertThat(&quot;Hello world&quot;).is(containsString(&quot; &quot;));
  }
 
}      
</pre></div>
		
<p>A test using parameter will look like</p>
		
<div class="source">
<pre>
import java.util.Arrays;
import java.util.stream.Stream;

import ch.powerunit.Parameter;
import ch.powerunit.Parameters;
import ch.powerunit.Test;
import ch.powerunit.TestSuite;

public class HelloWorldParameterTest implements TestSuite {
  @Parameters(&quot;Input string is {0}, subString idx is {1}, expected result is {2}&quot;)
  public static Stream&lt;Object[]&gt; getDatas() {
    return Arrays.stream(new Object[][] { { &quot;ab&quot;, 0, &quot;ab&quot; }, { &quot;ab&quot;, 1, &quot;b&quot; } });
  }

  @Parameter(0)
  public String inputString;

  @Parameter(1)
  public int inputIndex;

  @Parameter(2)
  public String expectedString;

  @Test
  public void testSubString() {
    assertThat(inputString.substring(inputIndex)).is(expectedString);
  }
}
</pre></div>
     
<p align="right"><a href="#top">[top]</a></p><hr /></dd>
<dt><a name="before-after">
        How are managed the before and after action of a test.
      </a></dt>
<dd>
        
<p>Compared to JUnit that use method annotated with @Before and @After, Powerunit try to avoid this approach in favor
        of a more JDK 1.8 approach (using lamdba), but also to have more clear test execution. To do so, the concept of rule
        (also from JUnit), is use as the only way to define element around the test.</p>
        
<p>Each test classes can contain one single field annotated with @Rule. This field defines the various modification 
        of the test execution, and provides way to define the code to be run before or after the test. For example, to define 
        a before action, the following syntax can be used :</p>
        
<div class="source">
<pre>
@Rule public final TestRule level2 = before(this::prepare);
       </pre></div>
        
<p>This will define that the method prepare (void, without parameter) will be used before the test. Next action can
        be chained by using the .around(<i>next rule</i>). For instance to have a before and a after, it is possible to use :</p>
        
<div class="source">
<pre>
@Rule public final TestRule level2 = before(this::prepare).around(after(this::clean));    
       </pre></div>
      
<p align="right"><a href="#top">[top]</a></p></dd></dl></div>
<div class="section">
<h2>Matchers<a name="Matchers"></a></h2>
<dl>
<dt><a name="matchers-integration">
  	   How is done the integration with Hamcrest ?
  	  </a></dt>
<dd>
  	   
<p>The short answer is that hamcrest matchers (and powerunit matchers) are available from the various method of the TestSuite 
  	   interface that must be implemented by the test classes.</p>
  	   
<p>The long answer is a quiet more complex :</p>
  	   
<ol style="list-style-type: decimal">
  	   	
<li>First of all, the hamcrest library is defined as a maven dependency of powerunit. Specifically the hamcrest-all is
  	   	used as a dependency.</li>
  	   	
<li>It is of course possible to use the DSL classes of hamcrest directly.</li>
  	   	
<li>The TestSuite interface exposes almost all the methods provided by <tt>org.hamcrest.Matchers</tt>. 
  	   	It also add more matchers :
  	   		
<ul>
  	   			
<li>Matchers related to regular expression (<tt>matchesRegex</tt>).</li>
  	   			
<li>Matchers related to exception (<tt>exceptionMessage</tt>).</li>
  	   			
<li>Matchers related to the optional class of java (<tt>optional...</tt>).</li>
  	   			
<li>Matchers related to the file (<tt>file...</tt>).</li>
  	   		</ul>
  	   	</li>
  	  </ol>
  	  
<p align="right"><a href="#top">[top]</a></p></dd></dl></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2014.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
