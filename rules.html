<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-07-08 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150708" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Powerunit - Java Testing framework for JDK 1.8 &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<link rel="icon" href="logo.png" type="image/png"/>
                      
        
<link rel="shortcut icon" href="logo.png" type="image/png"/>
          
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/powerunit/powerunit">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Powerunit - Java Testing framework for JDK 1.8</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-07-08
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.4.0-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                              
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
                              <li class="nav-header">General documentations</li>
                              
      <li>
  
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="release.html" title="Release principles">
          <i class="none"></i>
        Release principles</a>
            </li>
                                                                                                                                                                                                                            
      <li>
  
                          <a href="helloworldmaven.html" title="Samples">
          <i class="icon-chevron-down"></i>
        Samples</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="helloworldmaven.html" title="HelloWorld Test">
          <i class="none"></i>
        HelloWorld Test</a>
            </li>
                    
      <li>
  
                          <a href="equalsverifier.html" title="EqualsVerifier integration">
          <i class="none"></i>
        EqualsVerifier integration</a>
            </li>
                    
      <li>
  
                          <a href="beanmatchers.html" title="Bean-Matchers integration">
          <i class="none"></i>
        Bean-Matchers integration</a>
            </li>
                    
      <li>
  
                          <a href="parameters.html" title="Parameterized tests">
          <i class="none"></i>
        Parameterized tests</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>Rule chain</a>
          </li>
                    
      <li>
  
                          <a href="assertion.html" title="Assertions">
          <i class="none"></i>
        Assertions</a>
            </li>
                    
      <li>
  
                          <a href="framework.html" title="Tests framework">
          <i class="none"></i>
        Tests framework</a>
            </li>
                    
      <li>
  
                          <a href="matchertester.html" title="Tests support for hamcrest Matcher">
          <i class="none"></i>
        Tests support for hamcrest Matcher</a>
            </li>
                    
      <li>
  
                          <a href="comparatortester.html" title="Tests support for Comparator">
          <i class="none"></i>
        Tests support for Comparator</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Linked projects</li>
                              
      <li>
  
                          <a href="../powerunit-extensions-matchers" title="Matchers annotation integration">
          <i class="none"></i>
        Matchers annotation integration</a>
            </li>
                
      <li>
  
                          <a href="../powerunit-eclipse" title="Eclipse integration">
          <i class="none"></i>
        Eclipse integration</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="www.powerunit.ch/powerunit" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="../" title="PowerUnit" class="builtBy">
        <img class="builtBy"  alt="PowerUnit" src="logo.png"    />
      </a>
                                                                                                    <a href="https://travis-ci.org/powerunit/powerunit" title="Travis-ci" class="builtBy">
        <img class="builtBy"  alt="Travis-ci" src="https://travis-ci.org/powerunit/powerunit.svg?branch=master"    />
      </a>
                                                                                                    <a href="http://marketplace.eclipse.org/marketplace-client-intro?mpc_install=2412591" title="Drag to your running Eclipse workspace to install PowerUnit Eclipse Integration" class="builtBy">
        <img class="builtBy"  alt="Drag to your running Eclipse workspace to install PowerUnit Eclipse Integration" src="https://marketplace.eclipse.org/sites/all/themes/solstice/_themes/solstice_marketplace/public/images/btn-install.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Rule_chains"></a>Rule chains</h2>
<p>As shown in <a href="./helloworldmaven.html">the helloworld sample</a>, it is possible to use one field as a Test Rule Chain. A test rule chain defines action that must be done before or after the several test method executions. This concept is a key element of PowerUnit and is different of the test rule chain of junit in several ways. One key difference is that PowerUnit doesn't provide any annotation to mark a method to be executed before or after a test ; This must be done by using a test rule chain.</p>
<div class="section">
<h3><a name="Defining_before_and_after_method"></a>Defining before and after method</h3>
<div class="source">
<pre>import ch.powerunit.Rule;
import ch.powerunit.Test;
import ch.powerunit.TestRule;
import ch.powerunit.TestSuite;

public class MyBeanTest implements TestSuite {
    @Rule
    public final TestRule rule = before(this::prepare).around(
            after(this::after));

    private MyBean bean;

    private void prepare() {
        bean = new MyBean();
    }

    private void after() {
        bean = null;
    }

    @Test
    public void testSimple() {
        bean.setField1(&quot;x&quot;);
        assertThat(bean.getField1()).is(&quot;x&quot;);
    }
}</pre></div>
<p>This test class use a test rule to define action to be done before and after every test method. To do so, the rule chain is started by using the <tt>before</tt> method, passing as parameter a reference to the method <tt>prepare</tt>. This method return a chainable rule that provides the around method, which receive as a parameter another rule that is to be executed <i>inside</i> the previous one. This new rules is defined by using the <tt>after</tt> method. From a field initialization perspective, this will :</p>
<ul>
<li>Create a first rule that will execute the method <tt>prepare</tt> before every test.</li>
<li>Create a second rule that will execute the method <tt>after</tt> after every test.</li>
<li>Merge these two rules in a new ones that will take execute the method <tt>prepare</tt> before every test <b>and</b> execute the method <tt>after</tt> after every test.</li></ul>
<p>From a DSL perspective, the <tt>around</tt> method use to chain the rule assume that the left side of the usage is execute around the right side. This principe ensure that when it is required to have to before (or after) method, the order between these methods is strictly deterministic.</p></div>
<div class="section">
<h3><a name="Starting_a_test_rule_chain"></a>Starting a test rule chain</h3>
<p>A test rule is at the same time a test rule chain, thanks to the default method of Java 8. The interesting side effect is that it is not required to have special rule to be used to aggregate other rules. A test rule chain can be started in several ways :</p>
<ul>
<li>Using the <tt>before</tt> or <tt>after</tt> method to create the first rule.</li>
<li>Create (using a constructor for instance) to create an instance of the rule.</li>
<li>Use any other DSL method that return a test rule (for instance the mockitoRule).</li></ul>
<p>What is essential is to start with the most outer rule.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2015.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
